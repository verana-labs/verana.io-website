{{/*
  Shortcode: team-member
  Usage example:
    {{< team-member 
        name="Jane Doe" 
        position="Head of Something" 
        bio="Short bio about Jane." 
        linkedin="https://www.linkedin.com/in/janedoe/" 
        github="https://github.com/janedoe" 
        x="https://x.com/janedoe" 
        photo="/images/team/jane.jpg"
    >}}

  Params:
    - name: string (required)
    - position: string
    - bio: string
    - photo: string (absolute or relative URL) (required)
    - linkedin: string (URL or handle URL)
    - github: string (URL or handle URL)
    - x: string (URL or handle URL)
*/}}
{{ $name := .Get "name" }}
{{ if not $name }}{{ errorf "team-member shortcode requires name param" }}{{ end }}
{{ $position := .Get "position" }}
{{ $bio := .Get "bio" }}
{{ $photo := .Get "photo" }}
{{ if not $photo }}{{ errorf "team-member shortcode requires photo param" }}{{ end }}
{{ $linkedin := .Get "linkedin" }}
{{ $github := .Get "github" }}
{{ $x := .Get "x" }}

{{ $photoURL := $photo }}

<div class="bg-gray-900 border border-gray-700 rounded-2xl p-8 transition-all duration-300 hover:border-verana/50 hover:-translate-y-2">
  <div class="flex flex-col items-center text-center">
    <div class="w-32 h-32 rounded-full overflow-hidden mb-6 border-4 border-verana/30 hover:border-verana transition-all duration-300">
      <img src="{{ $photoURL }}" alt="{{ $name }} portrait" class="w-full h-full object-cover" loading="lazy">
    </div>
    <h3 class="text-2xl font-bold text-white mb-2">{{ $name }}</h3>
    {{ if $position }}
      <div class="text-verana font-semibold mb-4">{{ $position }}</div>
    {{ end }}
    {{ if $bio }}
      <p class="text-gray-300 leading-relaxed mb-6">{{ $bio }}</p>
    {{ end }}
    {{ if or $linkedin (or $github $x) }}
      <div class="flex space-x-4">
        {{ with $linkedin }}
          <a href="{{ . }}" target="_blank" rel="noopener noreferrer" aria-label="LinkedIn"
             class="w-10 h-10 bg-gray-800 rounded-lg flex items-center justify-center text-gray-400 hover:text-white hover:bg-blue-600 transition-all duration-200">
            <i class="fa-brands fa-linkedin text-lg"></i>
          </a>
        {{ end }}
        {{ with $x }}
          <a href="{{ . }}" target="_blank" rel="noopener noreferrer" aria-label="X"
             class="w-10 h-10 bg-gray-800 rounded-lg flex items-center justify-center text-gray-400 hover:text-white hover:bg-gray-600 transition-all duration-200">
            <svg viewBox="0 0 24 24" class="w-5 h-5" aria-hidden="true">
              <g>
                <path d="M21.742 21.75l-7.563-11.179 7.056-8.321h-2.456l-5.691 6.714-4.54-6.714H2.359l7.29 10.776L2.25 21.75h2.456l6.035-7.118 4.818 7.118h6.191-.008zM7.739 3.818L18.81 20.182h-2.447L5.29 3.818h2.447z" fill="currentColor" />
              </g>
            </svg>
          </a>
        {{ end }}
        {{ with $github }}
          <a href="{{ . }}" target="_blank" rel="noopener noreferrer" aria-label="GitHub"
             class="w-10 h-10 bg-gray-800 rounded-lg flex items-center justify-center text-gray-400 hover:text-white hover:bg-gray-600 transition-all duration-200">
            <i class="fa-brands fa-github text-lg"></i>
          </a>
        {{ end }}
      </div>
    {{ end }}
  </div>
</div>
