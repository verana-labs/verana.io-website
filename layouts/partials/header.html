{{ $eventText := .Site.Params.eventArea }}
{{ $eventLink := .Site.Params.eventAreaLink }}
<div class="sticky top-0 z-30">
  {{ if $eventText }}
    <div class="bg-verana text-white text-[10px] py-1">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
        {{ if $eventLink }}
          <a href="{{ $eventLink }}" class="inline-flex items-center justify-center gap-1 hover:underline" target="_blank" rel="noopener">
            {{ $eventText }}
            <span aria-hidden="true" class="text-[9px]">â†—</span>
          </a>
        {{ else }}
          <span>{{ $eventText }}</span>
        {{ end }}
      </div>
    </div>
  {{ end }}
  <header class="border-b border-slate-200 bg-white/90 backdrop-blur supports-[backdrop-filter]:bg-white/60">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="flex items-center justify-between h-16">
      <a href="/" class="flex items-center gap-3">
        {{ $logo := .Site.Params.header.logo }}
        {{ with $logo }}
          <img src="{{ . }}" alt="{{ $.Site.Title }} logo" class="h-8 w-auto" />
        {{ else }}
          <span class="inline-block w-8 h-8 bg-primary-600 rounded"></span>
        {{ end }}
        <span class="font-semibold">{{ .Site.Title }}</span>
      </a>
      <button id="nav-toggle" class="lg:hidden p-2 rounded hover:bg-slate-100" aria-label="Toggle navigation">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-6 h-6"><path fill-rule="evenodd" d="M3.75 5.25A.75.75 0 0 1 4.5 4.5h15a.75.75 0 0 1 0 1.5h-15a.75.75 0 0 1-.75-.75Zm0 7.5a.75.75 0 0 1 .75-.75h15a.75.75 0 0 1 0 1.5h-15a.75.75 0 0 1-.75-.75Zm.75 6.75a.75.75 0 0 0 0 1.5h15a.75.75 0 0 0 0-1.5h-15Z" clip-rule="evenodd"/></svg>
      </button>
      <nav id="nav-menu-desktop" class="hidden lg:block w-full lg:w-auto">
        <ul class="lg:flex lg:items-center lg:space-x-6">
          {{ $custom := .Site.Params.nav.main }}
          {{ if $custom }}
            {{ range $item := $custom }}
              <li class="relative menu-parent lg:pb-2">
                <a class="block px-3 py-2 rounded hover:bg-slate-100" href="{{ $item.url }}">{{ $item.title }}</a>
                {{ with $item.children }}
                  <ul class="menu-children hidden absolute lg:left-0 lg:top-full lg:min-w-[14rem] lg:bg-white lg:shadow lg:rounded lg:border lg:border-slate-200 lg:py-1 lg:z-20">
                    {{ range . }}
                      <li><a class="block px-4 py-2 hover:bg-slate-50" href="{{ .url }}">{{ .title }}</a></li>
                    {{ end }}
                  </ul>
                {{ end }}
              </li>
            {{ end }}
          {{ else }}
            {{ range .Site.Menus.main }}
              <li class="relative menu-parent lg:pb-2">
                <a class="block px-3 py-2 rounded hover:bg-slate-100" href="{{ .URL }}">{{ .Name }}</a>
                {{ if .HasChildren }}
                  <ul class="menu-children hidden absolute lg:left-0 lg:top-full lg:min-w-[14rem] lg:bg-white lg:shadow lg:rounded lg:border lg:border-slate-200 lg:py-1 lg:z-20">
                    {{ range .Children }}
                      <li><a class="block px-4 py-2 hover:bg-slate-50" href="{{ .URL }}">{{ .Name }}</a></li>
                    {{ end }}
                  </ul>
                {{ end }}
              </li>
            {{ end }}
          {{ end }}
        </ul>
      </nav>
    </div>
  </div>
  <!-- Mobile expanded menu -->
  <div id="nav-menu-mobile" class="lg:hidden hidden border-t border-slate-200">
    <ul class="px-4 py-2 space-y-1">
      {{ $custom := .Site.Params.nav.main }}
      {{ if $custom }}
        {{ range $item := $custom }}
          <li>
            <a class="block px-3 py-2 rounded hover:bg-slate-100" href="{{ $item.url }}">{{ $item.title }}</a>
            {{ with $item.children }}
              <ul class="pl-4 border-l border-slate-200 my-1">
                {{ range . }}
                  <li><a class="block px-3 py-2 rounded hover:bg-slate-100" href="{{ .url }}">{{ .title }}</a></li>
                {{ end }}
              </ul>
            {{ end }}
          </li>
        {{ end }}
      {{ else }}
        {{ range .Site.Menus.main }}
          <li>
            <a class="block px-3 py-2 rounded hover:bg-slate-100" href="{{ .URL }}">{{ .Name }}</a>
            {{ if .HasChildren }}
              <ul class="pl-4 border-l border-slate-200 my-1">
                {{ range .Children }}
                  <li><a class="block px-3 py-2 rounded hover:bg-slate-100" href="{{ .URL }}">{{ .Name }}</a></li>
                {{ end }}
              </ul>
            {{ end }}
          </li>
        {{ end }}
      {{ end }}
    </ul>
  </div>
  </header>
</div>
